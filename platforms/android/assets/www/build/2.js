webpackJsonp([2],{142:function(n,l,t){"use strict";function o(n){return u._22(0,[(n()(),u._4(0,null,null,18,"div",[["class","gpsLoad"]],[[24,"@popupAnim",0]],null,null,null,null)),(n()(),u._21(null,["\n        "])),(n()(),u._4(0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u._21(null,["\n        "])),(n()(),u._4(0,null,null,0,"br",[],null,null,null,null,null)),(n()(),u._21(null,["\n        "])),(n()(),u._4(0,null,null,1,"h1",[["padding",""]],null,null,null,null,null)),(n()(),u._21(null,["Getting your current location..."])),(n()(),u._21(null,["\n        "])),(n()(),u._4(0,null,null,2,"button",[["ion-button",""],["style"," margin:0 auto;display:block;"]],null,[[null,"tap"]],function(n,l,t){var o=!0,e=n.component;return"tap"===l&&(o=!1!==e.cancelGPS()&&o),o},g.b,g.a)),u._3(1097728,null,0,h.a,[[8,""],m.a,u.k,u.E],null,null),(n()(),u._21(0,["Cancel"])),(n()(),u._21(null,["\n\n        "])),(n()(),u._4(0,null,null,0,"div",[["class","wave3l"]],null,null,null,null,null)),(n()(),u._21(null,["\n        "])),(n()(),u._4(0,null,null,0,"div",[["class","wave2l"]],null,null,null,null,null)),(n()(),u._21(null,["\n        "])),(n()(),u._4(0,null,null,0,"div",[["class","wave1l"]],null,null,null,null,null)),(n()(),u._21(null,["\n    "]))],null,function(n,l){n(l,0,0,null)})}function e(n){return u._22(0,[(n()(),u._4(0,null,null,20,"ion-header",[],null,null,null,null,null)),u._3(16384,null,0,f.a,[m.a,u.k,u.E,[2,y.a]],null,null),(n()(),u._21(null,["\n\n    "])),(n()(),u._4(0,null,null,16,"ion-navbar",[["class","toolbar"],["color","white"]],[[8,"hidden",0],[2,"statusbar-padding",null]],null,null,b.b,b.a)),u._3(49152,null,0,v.a,[L.a,[2,y.a],[2,M.a],m.a,u.k,u.E],{color:[0,"color"]},null),(n()(),u._21(3,["\n        "])),(n()(),u._4(0,null,3,0,"img",[["class","stepsImg"],["src","assets/img/step2.png"]],null,null,null,null,null)),(n()(),u._21(3,["\n\n        "])),(n()(),u._4(0,null,2,10,"ion-buttons",[["end",""]],null,null,null,null,null)),u._3(16384,null,1,w.a,[m.a,u.k,u.E,[2,P.a],[2,v.a]],null,null),u._19(603979776,1,{_buttons:1}),(n()(),u._21(null,["\n            "])),(n()(),u._4(0,null,null,5,"button",[["clear",""],["icon-end",""],["ion-button",""]],null,[[null,"tap"]],function(n,l,t){var o=!0,e=n.component;return"tap"===l&&(o=!1!==e.nextPage()&&o),o},g.b,g.a)),u._3(1097728,[[1,4]],0,h.a,[[8,""],m.a,u.k,u.E],{clear:[0,"clear"]},null),(n()(),u._21(0,["\n            Next\n            "])),(n()(),u._4(0,null,0,1,"ion-icon",[["name","arrow-forward"],["role","img"]],[[2,"hide",null]],null,null,null,null)),u._3(147456,null,0,k.a,[m.a,u.k,u.E],{name:[0,"name"]},null),(n()(),u._21(0,["\n          "])),(n()(),u._21(null,["\n        "])),(n()(),u._21(3,["\n    "])),(n()(),u._21(null,["\n\n"])),(n()(),u._21(null,["\n\n\n\n\n"])),(n()(),u._4(0,null,null,8,"ion-content",[],[[2,"statusbar-padding",null],[2,"has-refresher",null]],null,null,I.b,I.a)),u._3(4374528,null,0,E.a,[m.a,A.a,O.a,u.k,u.E,L.a,C.a,u.y,[2,y.a],[2,M.a]],null,null),(n()(),u._21(1,["\n    "])),(n()(),u._21(1,["\n    "])),(n()(),u._4(0,null,1,0,"div",[["id","map"]],null,null,null,null,null)),(n()(),u._21(1,["\n    "])),(n()(),u._0(16777216,null,1,1,null,o)),u._3(16384,null,0,_.h,[u.O,u.L],{ngIf:[0,"ngIf"]},null),(n()(),u._21(1,["\n"]))],function(n,l){var t=l.component;n(l,4,0,"white");n(l,13,0,"");n(l,16,0,"arrow-forward"),n(l,29,0,t.gspIsLoading)},function(n,l){n(l,3,0,u._16(l,4)._hidden,u._16(l,4)._sbPadding),n(l,15,0,u._16(l,16)._hidden),n(l,22,0,u._16(l,23).statusbarPadding,u._16(l,23)._hasRefresher)})}Object.defineProperty(l,"__esModule",{value:!0});var u=t(0),i=(t(44),t(73)),a=(t(109),t(74)),r=function(){function n(n,l,t,o){this.navCtrl=n,this.navParams=l,this.googleMaps=t,this.geolocation=o,this.gspIsLoading=!1,this.marker=null,this.lat=null,this.lng=null,this.tp=null,this.tp=l.data}return n.prototype.ionViewDidLoad=function(){this.marker=null,console.log("ionViewDidLoad LocationPage"),this.loadMap()},n.prototype.nextPage=function(){null!=this.lat?(this.tp.lat=this.lat,this.tp.lng=this.lng,this.navCtrl.push("NamePage",this.tp)):alert("you need to add a location in order to procede")},n.prototype.getLocation=function(){var n=this;console.log("getting location...."),this.gspIsLoading=!0,this.geolocation.getCurrentPosition().then(function(l){n.gspIsLoading=!1,n.setAndZoomMarker(l.coords.latitude,l.coords.longitude)}).catch(function(l){n.gspIsLoading=!1,console.log("Error getting location",l),alert("impossible get the location.")})},n.prototype.cancelGPS=function(){this.gspIsLoading=!1},n.prototype.loadMap=function(){var n=this,l=document.getElementById("map");(this.map=this.googleMaps.create(l)).one(a.b.MAP_READY).then(function(){console.log("Map is ready!"),n.map.addMarker({icon:{url:"assets/img/blueMarker.png",anchor:[15,42],size:{width:31,height:42}},visible:!1,draggable:!1,disableAutoPan:!0,position:{lat:0,lng:0}}).then(function(l){n.marker=l,n.listenToClickEvent()}),n.map.setMyLocationEnabled(!0);var l={target:{lat:46.948212,lng:8.303241},zoom:7,tilt:0};n.map.moveCamera(l),n.getLocation()})},n.prototype.listenToClickEvent=function(){var n=this;this.map.on(a.b.MAP_CLICK).subscribe(function(l){n.setAndZoomMarker(l.lat,l.lng)})},n.prototype.setAndZoomMarker=function(n,l){this.lat=n,this.lng=l,localStorage.setItem("locationStorageKey",JSON.stringify({lat:n,lng:l})),this.marker.setPosition({lat:n,lng:l}),this.marker.setVisible(!0);var t={target:{lat:n,lng:l},zoom:16,duration:1e3};this.map.animateCamera(t)},n}(),s=function(){return function(){}}(),_=t(24),c=t(25),p=t(65),d=t(105),g=t(64),h=t(14),m=t(1),f=t(47),y=t(9),b=t(106),v=t(27),L=t(6),M=t(11),w=t(67),P=t(49),k=t(26),I=t(107),E=t(19),A=t(3),O=t(5),C=t(20),N=t(45),F=[],j=u._2({encapsulation:2,styles:F,data:{animation:[{name:"popupAnim",definitions:[{type:0,name:"void",styles:{type:6,styles:{opacity:0}}},{type:1,expr:":enter",animation:[{type:4,styles:{type:6,styles:{opacity:1}},timings:"0.25s"}]},{type:1,expr:":leave",animation:[{type:4,styles:{type:6,styles:{opacity:0}},timings:"0.25s"}]}]}]}}),z=u._1("page-location",r,function(n){return u._22(0,[(n()(),u._4(0,null,null,1,"page-location",[],null,null,null,e,j)),u._3(49152,null,0,r,[M.a,N.a,a.a,i.a],null,null)],null,null)},{},{},[]),D=t(66);t.d(l,"LocationPageModuleNgFactory",function(){return Z});var x=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(n,l){n.__proto__=l}||function(n,l){for(var t in l)l.hasOwnProperty(t)&&(n[t]=l[t])};return function(l,t){function o(){this.constructor=l}n(l,t),l.prototype=null===t?Object.create(t):(o.prototype=t.prototype,new o)}}(),B=function(n){function l(l){return n.call(this,l,[d.a,z],[])||this}return x(l,n),Object.defineProperty(l.prototype,"_NgLocalization_7",{get:function(){return null==this.__NgLocalization_7&&(this.__NgLocalization_7=new _.i(this.parent.get(u.u))),this.__NgLocalization_7},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_ɵi_8",{get:function(){return null==this.__ɵi_8&&(this.__ɵi_8=new c.k),this.__ɵi_8},enumerable:!0,configurable:!0}),Object.defineProperty(l.prototype,"_FormBuilder_9",{get:function(){return null==this.__FormBuilder_9&&(this.__FormBuilder_9=new c.a),this.__FormBuilder_9},enumerable:!0,configurable:!0}),l.prototype.createInternal=function(){return this._CommonModule_0=new _.b,this._ɵba_1=new c.j,this._FormsModule_2=new c.d,this._ReactiveFormsModule_3=new c.i,this._IonicModule_4=new p.a,this._IonicPageModule_5=new p.b,this._LocationPageModule_6=new s,this._LAZY_LOADED_TOKEN_10=r,this._LocationPageModule_6},l.prototype.getInternal=function(n,l){return n===_.b?this._CommonModule_0:n===c.j?this._ɵba_1:n===c.d?this._FormsModule_2:n===c.i?this._ReactiveFormsModule_3:n===p.a?this._IonicModule_4:n===p.b?this._IonicPageModule_5:n===s?this._LocationPageModule_6:n===_.j?this._NgLocalization_7:n===c.k?this._ɵi_8:n===c.a?this._FormBuilder_9:n===D.a?this._LAZY_LOADED_TOKEN_10:l},l.prototype.destroyInternal=function(){},l}(u.Z),Z=new u.v(B,s)}});